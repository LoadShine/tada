/* src/styles/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Your existing color variables */
        --background: 0 0% 100%;
        --foreground: 224 71.4% 4.1%;
        --muted: 220 14.3% 95.8%;
        --muted-foreground: 220 8.9% 46.1%;
        --popover: 0 0% 100%;
        --popover-foreground: 224 71.4% 4.1%;
        --card: 0 0% 100%;
        --card-foreground: 224 71.4% 4.1%;
        --border: 220 13% 91%;
        --input: 220 13% 91%; /* Used for input borders */
        --primary: 262.1 83.3% 57.8%; /* Adjusted primary */
        --primary-foreground: 210 20% 98%;
        --secondary: 220 14.3% 95.8%;
        --secondary-foreground: 224 71.4% 4.1%;
        --accent: 220 14.3% 95.8%;
        --accent-foreground: 224 71.4% 4.1%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 210 20% 98%;
        --ring: 262.1 83.3% 57.8%; /* Ring defaults to primary */
        --radius: 0.5rem;

        /* Add canvas color if needed, or use background */
        --canvas: 230 20% 98%; /* Light grey canvas */

        /* Glass effect colors */
        --glass-100-light: 230 50% 98% / 0.6; /* Lighter glass */
        --glass-alt-100-light: 230 50% 96% / 0.75;
        --glass-alt-200-light: 230 50% 94% / 0.85;
        --glass-inset-100-light: 230 50% 99% / 0.4;
        --glass-inset-200-light: 230 50% 97% / 0.5;

        --glass-100-dark: 220 15% 18% / 0.6; /* Darker glass */
        --glass-alt-100-dark: 220 15% 15% / 0.75;
        --glass-alt-200-dark: 220 15% 13% / 0.85;
        --glass-inset-100-dark: 220 15% 22% / 0.4;
        --glass-inset-200-dark: 220 15% 20% / 0.5;

        /* Shadows */
        --shadow-subtle: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        --shadow-strong: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08);
    }

    .dark {
        --background: 220 15% 12%; /* Dark background */
        --foreground: 210 20% 98%;
        --muted: 215 18% 20%;
        --muted-foreground: 215 10% 65%;
        --popover: 220 15% 15%; /* Dark popover */
        --popover-foreground: 210 20% 98%;
        --card: 220 15% 15%; /* Dark card */
        --card-foreground: 210 20% 98%;
        --border: 215 15% 25%;
        --input: 215 15% 25%; /* Dark input borders */
        --primary: 262.1 83.3% 67.8%; /* Lighter primary for dark */
        --primary-foreground: 224 71.4% 4.1%;
        --secondary: 215 18% 20%;
        --secondary-foreground: 210 20% 98%;
        --accent: 215 18% 20%;
        --accent-foreground: 210 20% 98%;
        --destructive: 0 72% 51%;
        --destructive-foreground: 210 20% 98%;
        --ring: 262.1 83.3% 67.8%; /* Lighter ring for dark */
        --canvas: 220 15% 10%; /* Very dark canvas */
    }

    /* Apply variables to glass utilities */
    .bg-glass-100 {
        background-color: hsl(var(--glass-100-light));
    }

    .bg-glass-alt-100 {
        background-color: hsl(var(--glass-alt-100-light));
    }

    .bg-glass-alt-200 {
        background-color: hsl(var(--glass-alt-200-light));
    }

    .bg-glass-inset-100 {
        background-color: hsl(var(--glass-inset-100-light));
    }

    .bg-glass-inset-200 {
        background-color: hsl(var(--glass-inset-200-light));
    }

    .shadow-subtle {
        box-shadow: var(--shadow-subtle);
    }

    .shadow-strong {
        box-shadow: var(--shadow-strong);
    }

    .dark .bg-glass-100 {
        background-color: hsl(var(--glass-100-dark));
    }

    .dark .bg-glass-alt-100 {
        background-color: hsl(var(--glass-alt-100-dark));
    }

    .dark .bg-glass-alt-200 {
        background-color: hsl(var(--glass-alt-200-dark));
    }

    .dark .bg-glass-inset-100 {
        background-color: hsl(var(--glass-inset-100-dark));
    }

    .dark .bg-glass-inset-200 {
        background-color: hsl(var(--glass-inset-200-dark));
    }

    /* Apply base styles */
    body {
        @apply bg-canvas text-foreground;
        /* Use canvas color */
        font-feature-settings: "rlig" 1, "calt" 1;
    }

    /* Basic thin scrollbar styling */
    .styled-scrollbar-thin {
        scrollbar-width: thin; /* Firefox */
        scrollbar-color: hsl(var(--border)) transparent; /* Firefox */
    }

    /* Webkit (Chrome, Safari, Edge) */
    .styled-scrollbar-thin::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    .styled-scrollbar-thin::-webkit-scrollbar-track {
        background: transparent;
        border-radius: 3px;
    }

    .styled-scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: hsl(var(--border) / 0.6);
        border-radius: 3px;
        border: 1px solid transparent;
        background-clip: content-box;
    }

    .styled-scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background-color: hsl(var(--border));
    }

    .styled-scrollbar-thin::-webkit-scrollbar-corner {
        background: transparent;
    }
}

@layer components {
    /* --- FIX: Hide browser's default clear button for search inputs --- */
    input[type="search"]::-webkit-search-decoration,
    input[type="search"]::-webkit-search-cancel-button,
    input[type="search"]::-webkit-search-results-button,
    input[type="search"]::-webkit-search-results-decoration {
        -webkit-appearance: none; /* Older way */
        display: none; /* Standard way */
    }

    /* Optional: Add similar rules for other browsers if needed, e.g., Edge/IE */
    input[type="search"]::-ms-clear {
        display: none;
        width: 0;
        height: 0;
    }

    input[type="search"]::-ms-reveal {
        display: none;
        width: 0;
        height: 0;
    }
}

@layer utilities {
    /* Custom utility classes */
    .ease-apple {
        transition-timing-function: cubic-bezier(.25, .1, .25, 1);
    }
}